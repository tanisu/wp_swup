const H=new WeakMap;function I(e,t,s,i){if(!e&&!H.has(t))return!1;const n=H.get(t)??new WeakMap;H.set(t,n);const o=n.get(s)??new Set;n.set(s,o);const r=o.has(i);return e?o.add(i):o.delete(i),r&&e}function ot(e,t){let s=e.target;if(s instanceof Text&&(s=s.parentElement),s instanceof Element&&e.currentTarget instanceof Node){const i=s.closest(t);if(i&&e.currentTarget.contains(i))return i}}function rt(e,t,s,i={}){const{signal:n,base:o=document}=i;if(n!=null&&n.aborted)return;const{once:r,...a}=i,l=o instanceof Document?o.documentElement:o,c=!!(typeof i=="object"?i.capture:i),h=m=>{const d=ot(m,String(e));if(d){const p=Object.assign(m,{delegateTarget:d});s.call(l,p),r&&(l.removeEventListener(t,h,a),I(!1,l,s,u))}},u=JSON.stringify({selector:e,type:t,capture:c});I(!0,l,s,u)||l.addEventListener(t,h,a),n==null||n.addEventListener("abort",()=>{I(!1,l,s,u)})}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},b.apply(null,arguments)}const Z=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",E=({hash:e}={})=>window.location.pathname+window.location.search+(e?window.location.hash:""),at=(e,t={})=>{const s=b({url:e=e||E({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(s,"",e)},P=(e=null,t={})=>{e=e||E({hash:!0});const s=b({},window.history.state||{},{url:e,random:Math.random(),source:"swup"},t);window.history.replaceState(s,"",e)},lt=(e,t,s,i)=>{const n=new AbortController;return i=b({},i,{signal:n.signal}),rt(e,t,s,i),{destroy:()=>n.abort()}};let k=class C extends URL{constructor(t,s=document.baseURI){super(t.toString(),s),Object.setPrototypeOf(this,C.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const s=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new C(s)}static fromUrl(t){return new C(t)}};class O extends Error{constructor(t,s){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=s.url,this.status=s.status,this.aborted=s.aborted||!1,this.timedOut=s.timedOut||!1}}async function ht(e,t={}){var s;e=k.fromUrl(e).url;const{visit:i=this.visit}=t,n=b({},this.options.requestHeaders,t.headers),o=(s=t.timeout)!=null?s:this.options.timeout,r=new AbortController,{signal:a}=r;t=b({},t,{headers:n,signal:a});let l,c=!1,h=null;o&&o>0&&(h=setTimeout(()=>{c=!0,r.abort("timeout")},o));try{l=await this.hooks.call("fetch:request",i,{url:e,options:t},(g,{url:w,options:y})=>fetch(w,y)),h&&clearTimeout(h)}catch(g){throw c?(this.hooks.call("fetch:timeout",i,{url:e}),new O(`Request timed out: ${e}`,{url:e,timedOut:c})):(g==null?void 0:g.name)==="AbortError"||a.aborted?new O(`Request aborted: ${e}`,{url:e,aborted:!0}):g}const{status:u,url:f}=l,m=await l.text();if(u===500)throw this.hooks.call("fetch:error",i,{status:u,response:l,url:f}),new O(`Server error: ${f}`,{status:u,url:f});if(!m)throw new O(`Empty response: ${f}`,{status:u,url:f});const{url:d}=k.fromUrl(f),p={url:d,html:m};return!i.cache.write||t.method&&t.method!=="GET"||e!==d||this.cache.set(p.url,p),p}class ct{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((s,i)=>{t.set(i,b({},s))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const s=this.pages.get(this.resolve(t));return s&&b({},s)}set(t,s){s=b({},s,{url:t=this.resolve(t)}),this.pages.set(t,s),this.swup.hooks.callSync("cache:set",void 0,{page:s})}update(t,s){t=this.resolve(t);const i=b({},this.get(t),s,{url:t});this.pages.set(t,i)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((s,i)=>{t(i,s)&&this.delete(i)})}resolve(t){const{url:s}=k.fromUrl(t);return this.swup.resolveUrl(s)}}const _=(e,t=document)=>t.querySelector(e),D=(e,t=document)=>Array.from(t.querySelectorAll(e)),tt=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function et(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function ut(e,t=[]){return new Promise((s,i)=>{const n=e(...t);et(n)?n.then(s,i):s(n)})}function R(e,t){const s=e==null?void 0:e.closest(`[${t}]`);return s!=null&&s.hasAttribute(t)?(s==null?void 0:s.getAttribute(t))||!0:void 0}class dt{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?D(this.selector):[]}add(...t){this.targets.forEach(s=>s.classList.add(...t))}remove(...t){this.targets.forEach(s=>s.classList.remove(...t))}clear(){this.targets.forEach(t=>{const s=t.className.split(" ").filter(i=>this.isSwupClass(i));t.classList.remove(...s)})}isSwupClass(t){return this.swupClasses.some(s=>t.startsWith(s))}}class st{constructor(t,s){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:i,from:n,hash:o,el:r,event:a}=s;this.id=Math.random(),this.state=1,this.from={url:n??t.location.url,hash:t.location.hash},this.to={url:i,hash:o},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function pt(e){return new st(this,e)}class ft{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const s=this.registry.get(t);if(s)return s;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,s,i={}){const n=this.get(t);if(!n)return console.warn(`Hook '${t}' not found.`),()=>{};const o=b({},i,{id:n.size+1,hook:t,handler:s});return n.set(s,o),()=>this.off(t,s)}before(t,s,i={}){return this.on(t,s,b({},i,{before:!0}))}replace(t,s,i={}){return this.on(t,s,b({},i,{replace:!0}))}once(t,s,i={}){return this.on(t,s,b({},i,{once:!0}))}off(t,s){const i=this.get(t);i&&s?i.delete(s)||console.warn(`Handler for hook '${t}' not found.`):i&&i.clear()}async call(t,s,i,n){const[o,r,a]=this.parseCallArgs(t,s,i,n),{before:l,handler:c,after:h}=this.getHandlers(t,a);await this.run(l,o,r);const[u]=await this.run(c,o,r,!0);return await this.run(h,o,r),this.dispatchDomEvent(t,o,r),u}callSync(t,s,i,n){const[o,r,a]=this.parseCallArgs(t,s,i,n),{before:l,handler:c,after:h}=this.getHandlers(t,a);this.runSync(l,o,r);const[u]=this.runSync(c,o,r,!0);return this.runSync(h,o,r),this.dispatchDomEvent(t,o,r),u}parseCallArgs(t,s,i,n){return s instanceof st||typeof s!="object"&&typeof i!="function"?[s,i,n]:[void 0,s,i]}async run(t,s=this.swup.visit,i,n=!1){const o=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of t)if(s==null||!s.done){c&&this.off(r,a);try{const h=await ut(a,[s,i,l]);o.push(h)}catch(h){if(n)throw h;console.error(`Error in hook '${r}':`,h)}}return o}runSync(t,s=this.swup.visit,i,n=!1){const o=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of t)if(s==null||!s.done){c&&this.off(r,a);try{const h=a(s,i,l);o.push(h),et(h)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(h){if(n)throw h;console.error(`Error in hook '${r}':`,h)}}return o}getHandlers(t,s){const i=this.get(t);if(!i)return{found:!1,before:[],handler:[],after:[],replaced:!1};const n=Array.from(i.values()),o=this.sortRegistrations,r=n.filter(({before:u,replace:f})=>u&&!f).sort(o),a=n.filter(({replace:u})=>u).filter(u=>!0).sort(o),l=n.filter(({before:u,replace:f})=>!u&&!f).sort(o),c=a.length>0;let h=[];if(s&&(h=[{id:0,hook:t,handler:s}],c)){const u=a.length-1,{handler:f,once:m}=a[u],d=p=>{const g=a[p-1];return g?(w,y)=>g.handler(w,y,d(p-1)):s};h=[{id:0,hook:t,once:m,handler:f,defaultHandler:d(u)}]}return{found:!0,before:r,handler:h,after:l,replaced:c}}sortRegistrations(t,s){var i,n;return((i=t.priority)!=null?i:0)-((n=s.priority)!=null?n:0)||t.id-s.id||0}dispatchDomEvent(t,s,i){if(s!=null&&s.done)return;const n={hook:t,args:i,visit:s||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:n,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:n,bubbles:!0}))}parseName(t){const[s,...i]=t.split(".");return[s,i.reduce((n,o)=>b({},n,{[o]:!0}),{})]}}const mt=e=>{if(e&&e.charAt(0)==="#"&&(e=e.substring(1)),!e)return null;const t=decodeURIComponent(e);let s=document.getElementById(e)||document.getElementById(t)||_(`a[name='${CSS.escape(e)}']`)||_(`a[name='${CSS.escape(t)}']`);return s||e!=="top"||(s=document.body),s},x="transition",M="animation";async function gt({selector:e,elements:t}){if(e===!1&&!t)return;let s=[];if(t)s=Array.from(t);else if(e&&(s=D(e,document.body),!s.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);const i=s.map(n=>function(o){const{type:r,timeout:a,propCount:l}=function(c){const h=window.getComputedStyle(c),u=T(h,`${x}Delay`),f=T(h,`${x}Duration`),m=W(u,f),d=T(h,`${M}Delay`),p=T(h,`${M}Duration`),g=W(d,p),w=Math.max(m,g),y=w>0?m>g?x:M:null;return{type:y,timeout:w,propCount:y?y===x?f.length:p.length:0}}(o);return!(!r||!a)&&new Promise(c=>{const h=`${r}end`,u=performance.now();let f=0;const m=()=>{o.removeEventListener(h,d),c()},d=p=>{p.target===o&&((performance.now()-u)/1e3<p.elapsedTime||++f>=l&&m())};setTimeout(()=>{f<l&&m()},a+1),o.addEventListener(h,d)})}(n));i.filter(Boolean).length>0?await Promise.all(i):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)}function T(e,t){return(e[t]||"").split(", ")}function W(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>B(s)+B(e[i])))}function B(e){return 1e3*parseFloat(e)}function wt(e,t={},s={}){if(typeof e!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(e,{el:s.el,event:s.event}))return void window.location.assign(e);const{url:i,hash:n}=k.fromUrl(e),o=this.createVisit(b({},s,{to:i,hash:n}));this.performNavigation(o,t)}async function vt(e,t={}){if(this.navigating){if(this.visit.state>=6)return e.state=2,void(this.onVisitEnd=()=>this.performNavigation(e,t));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=e;const{el:s}=e.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();const i=t.history||R(s,"data-swup-history");typeof i=="string"&&["push","replace"].includes(i)&&(e.history.action=i);const n=t.animation||R(s,"data-swup-animation");var o,r;typeof n=="string"&&(e.animation.name=n),e.meta=t.meta||{},typeof t.cache=="object"?(e.cache.read=(o=t.cache.read)!=null?o:e.cache.read,e.cache.write=(r=t.cache.write)!=null?r:e.cache.write):t.cache!==void 0&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",e,void 0),e.state=3;const a=this.hooks.call("page:load",e,{options:t},async(c,h)=>{let u;return c.cache.read&&(u=this.cache.get(c.to.url)),h.page=u||await this.fetchPage(c.to.url,h.options),h.cache=!!u,h.page});a.then(({html:c})=>{e.advance(5),e.to.html=c,e.to.document=new DOMParser().parseFromString(c,"text/html")});const l=e.to.url+e.to.hash;if(e.history.popstate||(e.history.action==="replace"||e.to.url===this.location.url?P(l):(this.currentHistoryIndex++,at(l,{index:this.currentHistoryIndex}))),this.location=k.fromUrl(l),e.history.popstate&&this.classes.add("is-popstate"),e.animation.name&&this.classes.add(`to-${Z(e.animation.name)}`),e.animation.wait&&await a,e.done||(await this.hooks.call("visit:transition",e,void 0,async()=>{if(!e.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(e,await a);e.advance(4),await this.animatePageOut(e),e.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(e,await a)).finished:await this.renderPage(e,await a),await this.animatePageIn(e)}),e.done))return;await this.hooks.call("visit:end",e,void 0,()=>this.classes.clear()),e.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(e.state=8);e.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(e.to.url+e.to.hash),!0),window.history.back()}finally{delete e.to.document}}const yt=async function(e){await this.hooks.call("animation:out:start",e,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",e,{skip:!1},(t,{skip:s})=>{if(!s)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",e,void 0)},bt=function(e){var t;const s=e.to.document;if(!s)return!1;const i=((t=s.querySelector("title"))==null?void 0:t.innerText)||"";document.title=i;const n=D('[data-swup-persist]:not([data-swup-persist=""])'),o=e.containers.map(r=>{const a=document.querySelector(r),l=s.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return n.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=_(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),o.length===e.containers.length},kt=function(e){const t={behavior:"auto"},{target:s,reset:i}=e.scroll,n=s??e.to.hash;let o=!1;return n&&(o=this.hooks.callSync("scroll:anchor",e,{hash:n,options:t},(r,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),i&&!o&&(o=this.hooks.callSync("scroll:top",e,{options:t},(r,{options:a})=>(window.scrollTo(b({top:0,left:0},a)),!0))),o},St=async function(e){if(e.done)return;const t=this.hooks.call("animation:in:await",e,{skip:!1},(s,{skip:i})=>{if(!i)return this.awaitAnimations({selector:s.animation.selector})});await tt(),await this.hooks.call("animation:in:start",e,void 0,()=>{this.classes.remove("is-animating")}),await t,await this.hooks.call("animation:in:end",e,void 0)},Et=async function(e,t){if(e.done)return;e.advance(6);const{url:s}=t;this.isSameResolvedUrl(E(),s)||(P(s),this.location=k.fromUrl(s),e.to.url=this.location.url,e.to.hash=this.location.hash),await this.hooks.call("content:replace",e,{page:t},(i,{})=>{if(this.classes.remove("is-leaving"),i.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(i))throw new Error("[swup] Container mismatch, aborting");i.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),i.animation.name&&this.classes.add(`to-${Z(i.animation.name)}`))}),await this.hooks.call("content:scroll",e,void 0,()=>this.scrollToContent(e)),await this.hooks.call("page:view",e,{url:this.location.url,title:document.title})},Pt=function(e){var t;if(t=e,!!(t!=null&&t.isSwupPlugin)){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)};function Lt(e){const t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(s=>s!==t),this.plugins;console.error("No such plugin",t)}function At(e){return this.plugins.find(t=>t===e||t.name===e||t.name===`Swup${String(e)}`)}function $t(e){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),e;const t=this.options.resolveUrl(e);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function Ot(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}const xt={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(e,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>{var t;return((t=e.state)==null?void 0:t.source)!=="swup"},timeout:0};class Tt{get currentPageUrl(){return this.location.url}constructor(t={}){var s,i;this.version="4.8.2",this.options=void 0,this.defaults=xt,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=k.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Pt,this.unuse=Lt,this.findPlugin=At,this.log=()=>{},this.navigate=wt,this.performNavigation=vt,this.createVisit=pt,this.delegateEvent=lt,this.fetchPage=ht,this.awaitAnimations=gt,this.renderPage=Et,this.replaceContent=bt,this.animatePageIn=St,this.animatePageOut=yt,this.scrollToContent=kt,this.getAnchorElement=mt,this.getCurrentUrl=E,this.resolveUrl=$t,this.isSameResolvedUrl=Ot,this.options=b({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new ct(this),this.classes=new dt(this),this.hooks=new ft(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(s=(i=window.history.state)==null?void 0:i.index)!=null?s:1,this.enable()}async enable(){var t;const{linkSelector:s}=this.options;this.clickDelegate=this.delegateEvent(s,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(i=>this.use(i));for(const[i,n]of Object.entries(this.options.hooks)){const[o,r]=this.hooks.parseName(i);this.hooks.on(o,n,r)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&P(null,{index:this.currentHistoryIndex}),await tt(),await this.hooks.call("enable",void 0,void 0,()=>{const i=document.documentElement;i.classList.add("swup-enabled"),i.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:s,event:i}={}){const{origin:n,url:o,hash:r}=k.fromUrl(t);return n!==window.location.origin||!(!s||!this.triggerWillOpenNewWindow(s))||!!this.options.ignoreVisit(o+r,{el:s,event:i})}handleLinkClick(t){const s=t.delegateTarget,{href:i,url:n,hash:o}=k.fromElement(s);if(this.shouldIgnoreVisit(i,{el:s,event:t}))return;if(this.navigating&&n===this.visit.to.url)return void t.preventDefault();const r=this.createVisit({to:n,hash:o,el:s,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",r,{href:i}):t.button===0&&this.hooks.callSync("link:click",r,{el:s,event:t},()=>{var a;const l=(a=r.from.url)!=null?a:"";t.preventDefault(),n&&n!==l?this.isSameResolvedUrl(n,l)||this.performNavigation(r):o?this.hooks.callSync("link:anchor",r,{hash:o},()=>{P(n+o),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(P(n),this.scrollToContent(r))})})}handlePopState(t){var s,i,n,o;const r=(s=(i=t.state)==null?void 0:i.url)!=null?s:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(E(),this.location.url))return;const{url:a,hash:l}=k.fromUrl(r),c=this.createVisit({to:a,hash:l,event:t});c.history.popstate=!0;const h=(n=(o=t.state)==null?void 0:o.index)!=null?n:0;h&&h!==this.currentHistoryIndex&&(c.history.direction=h-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=h),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:t},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},L.apply(this,arguments)}const F=e=>String(e).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");let N=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,s])=>{if(!function(i,n,o){const r=function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var h;const u=l.findPlugin(a);return(h=u==null?void 0:u.version)!=null?h:""}}(i,o);return!!r&&((a,l)=>l.every(c=>{const[,h,u]=c.match(/^([\D]+)?(.*)$/)||[];var f,m;return((d,p)=>{const g={"":w=>w===0,">":w=>w>0,">=":w=>w>=0,"<":w=>w<0,"<=":w=>w<=0};return(g[p]||g[""])(d)})((m=u,f=F(f=a),m=F(m),f.localeCompare(m,void 0,{numeric:!0})),h||">=")}))(r,n)}(t,s=Array.isArray(s)?s:[s],this.swup)){const i=`${t} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${i}`)}}),!0}on(t,s,i={}){var n;s=!(n=s).name.startsWith("bound ")||n.hasOwnProperty("prototype")?s.bind(this):s;const o=this.swup.hooks.on(t,s,i);return this.handlersToUnregister.push(o),o}once(t,s,i={}){return this.on(t,s,L({},i,{once:!0}))}before(t,s,i={}){return this.on(t,s,L({},i,{before:!0}))}replace(t,s,i={}){return this.on(t,s,L({},i,{replace:!0}))}off(t,s){return this.swup.hooks.off(t,s)}};function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},j.apply(this,arguments)}function z(e,{prefix:t=""}={}){return!!e&&e.startsWith(t)}function G(e,t=[]){const s=Array.from(e.attributes);return t.length?s.filter(({name:i})=>t.some(n=>n instanceof RegExp?n.test(i):i===n)):s}let Ut=class extends N{constructor(t={}){super(),this.name="SwupBodyClassPlugin",this.requires={swup:">=4.6"},this.defaults={prefix:"",attributes:[]},this.options=void 0,this.update=s=>{const{prefix:i,attributes:n}=this.options;(function(o,r,{prefix:a=""}={}){const l=[...o.classList].filter(h=>z(h,{prefix:a})),c=[...r.classList].filter(h=>z(h,{prefix:a}));o.classList.remove(...l),o.classList.add(...c)})(document.body,s.to.document.body,{prefix:i}),n!=null&&n.length&&function(o,r,a=[]){const l=new Set;for(const{name:c,value:h}of G(r,a))o.setAttribute(c,h),l.add(c);for(const{name:c}of G(o,a))l.has(c)||o.removeAttribute(c)}(document.body,s.to.document.body,n)},this.options=j({},this.defaults,t)}mount(){this.on("content:replace",this.update)}};function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},V.apply(null,arguments)}function K(e){return e.localName!=="title"&&!e.matches("[data-swup-theme]")}function J(e,t){return e.outerHTML===t.outerHTML}function X(e,t=[]){const s=Array.from(e.attributes);return t.length?s.filter(({name:i})=>t.some(n=>n instanceof RegExp?n.test(i):i===n)):s}function Ct(e){return e.matches("link[rel=stylesheet][href]")}let Vt=class extends N{constructor(t={}){var s;super(),s=this,this.name="SwupHeadPlugin",this.requires={swup:">=4.6"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,attributes:["lang","dir"],timeout:3e3},this.options=void 0,this.updateHead=async function(i,{page:{}}){const{awaitAssets:n,attributes:o,timeout:r}=s.options,a=i.to.document,{removed:l,added:c}=function(h,u,{shouldPersist:f=()=>!1}={}){const m=Array.from(h.children),d=Array.from(u.children),p=(g=m,d.reduce((v,S,A)=>(g.some($=>J(S,$))||v.push({el:S,index:A}),v),[]));var g;const w=function(v,S){return v.reduce((A,$)=>(S.some(nt=>J($,nt))||A.push({el:$}),A),[])}(m,d);w.reverse().filter(({el:v})=>K(v)).filter(({el:v})=>!f(v)).forEach(({el:v})=>h.removeChild(v));const y=p.filter(({el:v})=>K(v)).map(v=>{let S=v.el.cloneNode(!0);return h.insertBefore(S,h.children[(v.index||0)+1]||null),V({},v,{el:S})});return{removed:w.map(({el:v})=>v),added:y.map(({el:v})=>v)}}(document.head,a.head,{shouldPersist:h=>s.isPersistentTag(h)});if(s.swup.log(`Removed ${l.length} / added ${c.length} tags in head`),o!=null&&o.length&&function(h,u,f=[]){const m=new Set;for(const{name:d,value:p}of X(u,f))h.setAttribute(d,p),m.add(d);for(const{name:d}of X(h,f))m.has(d)||h.removeAttribute(d)}(document.documentElement,a.documentElement,o),n){const h=function(u,f=0){return u.filter(Ct).map(m=>function(d,p=0){let g;const w=y=>{d.sheet?y():g=setTimeout(()=>w(y),10)};return new Promise(y=>{w(()=>y(d)),p>0&&setTimeout(()=>{g&&clearTimeout(g),y(d)},p)})}(m,f))}(c,r);h.length&&(s.swup.log(`Waiting for ${h.length} assets to load`),await Promise.all(h))}},this.options=V({},this.defaults,t),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(t){const{persistTags:s}=this.options;return typeof s=="function"?s(t):typeof s=="string"&&s.length>0?t.matches(s):!!s}};function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},q.apply(null,arguments)}function Y(){return window.matchMedia("(hover: hover)").matches}function U(e){return!!e&&(e instanceof HTMLAnchorElement||e instanceof SVGAElement)}const Q=window.requestIdleCallback||(e=>setTimeout(e,1)),qt=["preloadVisibleLinks"];class Ht extends N{constructor(t={}){var s;super(),s=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(o,r,a)=>{const{url:l}=o.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(o,r)},this.onMouseEnter=async function(o){if(o.target!==o.delegateTarget||!Y())return;const r=o.delegateTarget;if(!U(r))return;const{url:a,hash:l}=k.fromElement(r),c=s.swup.createVisit({to:a,hash:l,el:r,event:o});s.swup.hooks.callSync("link:hover",c,{el:r,event:o}),s.preload(r,{priority:!0})},this.onTouchStart=o=>{if(Y())return;const r=o.delegateTarget;U(r)&&this.preload(r,{priority:!0})},this.onFocus=o=>{const r=o.delegateTarget;U(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:i}=t,n=function(o,r){if(o==null)return{};var a={};for(var l in o)if({}.hasOwnProperty.call(o,l)){if(r.includes(l))continue;a[l]=o[l]}return a}(t,qt);this.options=q({},this.defaults,n),typeof i=="object"?this.options.preloadVisibleLinks=q({},this.options.preloadVisibleLinks,{enabled:!0},i):this.options.preloadVisibleLinks.enabled=!!i,this.preload=this.preload.bind(this),this.queue=function(o=1){const r=[],a=[];let l=0,c=0;function h(){c<o&&l>0&&((a.shift()||r.shift()||(()=>{}))(),l--,c++)}return{add:function(u,f=!1){if(u.__queued){if(!f)return;{const m=r.indexOf(u);if(m>=0){const d=r.splice(m,1);l-=d.length}}}u.__queued=!0,(f?a:r).push(u),l++,l<=1&&h()},next:function(){c--,h()}}}(this.options.throttle)}mount(){const t=this.swup;t.options.cache?(t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(E())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var t,s,i;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(t=this.mouseEnterDelegate)==null||t.destroy(),(s=this.touchStartDelegate)==null||s.destroy(),(i=this.focusDelegate)==null||i.destroy(),this.stopPreloadingVisibleLinks()}async preload(t,s={}){var i;let n,o;const r=(i=s.priority)!=null&&i;if(Array.isArray(t))return Promise.all(t.map(l=>this.preload(l)));if(U(t))o=t,{href:n}=k.fromElement(t);else{if(typeof t!="string")return;n=t}if(!n)return;if(this.swup.cache.has(n))return this.swup.cache.get(n);if(this.preloadPromises.has(n))return this.preloadPromises.get(n);if(!this.shouldPreload(n,{el:o}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(n).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(n)})},r)});return this.preloadPromises.set(n,a),a}preloadLinks(){Q(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(t=>this.preload(t))})}preloadLinksOnAttention(){const{swup:t}=this,{linkSelector:s}=t.options,i={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(s,"mouseenter",this.onMouseEnter,i),this.touchStartDelegate=t.delegateEvent(s,"touchstart",this.onTouchStart,i),this.focusDelegate=t.delegateEvent(s,"focus",this.onFocus,i)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:s,containers:i}=this.options.preloadVisibleLinks;this.preloadObserver=function({threshold:n,delay:o,containers:r,callback:a,filter:l}){const c=new Map,h=new IntersectionObserver(d=>{d.forEach(p=>{p.isIntersecting?u(p.target):f(p.target)})},{threshold:n}),u=d=>{var p;const{href:g}=k.fromElement(d),w=(p=c.get(g))!=null?p:new Set;c.set(g,w),w.add(d),setTimeout(()=>{const y=c.get(g);y!=null&&y.size&&(a(d),h.unobserve(d),y.delete(d))},o)},f=d=>{var p;const{href:g}=k.fromElement(d);(p=c.get(g))==null||p.delete(d)},m=()=>{Q(()=>{const d=r.map(p=>`${p} a[*|href]`).join(", ");Array.from(document.querySelectorAll(d)).filter(p=>l(p)).forEach(p=>h.observe(p))})};return{start:()=>m(),stop:()=>h.disconnect(),update:()=>(c.clear(),m())}}({threshold:t,delay:s,containers:i,callback:n=>this.preload(n),filter:n=>{if(this.options.preloadVisibleLinks.ignore(n)||!n.matches(this.swup.options.linkSelector))return!1;const{href:o}=k.fromElement(n);return this.shouldPreload(o,{el:n})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:s}={}){const{url:i,href:n}=k.fromUrl(t);return!(!function(){if(navigator.connection){var o;if(navigator.connection.saveData||(o=navigator.connection.effectiveType)!=null&&o.endsWith("2g"))return!1}return!0}()||this.swup.cache.has(i)||this.preloadPromises.has(i)||this.swup.shouldIgnoreVisit(n,{el:s})||s&&this.swup.resolveUrl(i)===this.swup.resolveUrl(E()))}async performPreload(t){var s=this;const{url:i}=k.fromUrl(t),n=this.swup.createVisit({to:i});return await this.swup.hooks.call("page:preload",n,{url:i},async function(r,a){return a.page=await s.swup.fetchPage(t,{visit:r}),a.page})}}window.__swupMinimalLoaded||(window.__swupMinimalLoaded=!0,console.log("vite main loaded"));var It=window.location.origin,Mt='a[href^="/"]:not([target="_blank"]):not([data-no-swup]):not([download]):not([href^="#"]):not([href^="mailto:"]):not([href^="tel:"]):not([href*="/wp-admin"]):not([href*="/wp-login.php"]), a[href^="'+It+'"]:not([target="_blank"]):not([data-no-swup]):not([download]):not([href^="#"]):not([href^="mailto:"]):not([href^="tel:"]):not([href*="/wp-admin"]):not([href*="/wp-login.php"])';function _t(e){return e.origin===window.location.origin}function jt(e){return!(!e||e.tagName!=="A"||!e.href||!_t(e)||e.target==="_blank"||e.hasAttribute("data-no-swup")||e.hasAttribute("download")||e.getAttribute("href")&&e.getAttribute("href").charAt(0)==="#"||e.href.indexOf("mailto:")===0||e.href.indexOf("tel:")===0||e.href.indexOf("/wp-admin")!==-1||e.href.indexOf("/wp-login.php")!==-1)}function it(){window.__swupMinimalGuardInstalled||(window.__swupMinimalGuardInstalled=!0,document.addEventListener("click",function(e){var t=e.target.closest("a");jt(t)||e.stopImmediatePropagation()},!0))}window.__swupMinimalInstance||(window.__swupMinimalInstance=new Tt({containers:["#swup"],linkSelector:Mt,animationSelector:".swup-transition",plugins:[new Ut,new Vt,new Ht]}),console.log("swup initialized"),window.__swupMinimalInstance.hooks.on("content:replace",function(){console.log("swup content replaced"),it(),document.dispatchEvent(new CustomEvent("swup:replaced")),console.log("page view",window.location.pathname),typeof window.gtag=="function"&&window.gtag("event","page_view",{page_path:window.location.pathname})}));it();
